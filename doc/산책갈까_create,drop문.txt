DROP TABLE IF EXISTS `MESSAGE`;
DROP TABLE IF EXISTS `REPOST`;
DROP TABLE IF EXISTS `ANSWER`;
DROP TABLE IF EXISTS `PARTI_STATUS`;
DROP TABLE IF EXISTS `WALK_BOARD`;
DROP TABLE IF EXISTS `BOARD`;
DROP TABLE IF EXISTS `DOG`;
DROP TABLE IF EXISTS `member`;

CREATE TABLE `member` (
	`ID`	VARCHAR(50)	NOT NULL,
	`PW`	VARCHAR(100)	NOT NULL,
	`NICK`	VARCHAR(50)	NOT NULL,
	`AGE`	INT	NOT NULL,
	`GEN`	VARCHAR(10)	NOT NULL	COMMENT 'M, F',
	`STATUS`	INT	NOT NULL	COMMENT '0:관리자 1:일반회원 2:탈퇴회원',
	`RE_COUNT`	INT	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `DOG` (
	`DOG_NUM`	INT(15)	NOT NULL,
	`ID`	VARCHAR(50)	NOT NULL,
	`DOG_SIZE`	VARCHAR(20)	NOT NULL	COMMENT '소, 중, 대',
	`DOG_NAME`	VARCHAR(100)	NOT NULL,
	`DOG_GEN`	VARCHAR(10)	NOT NULL	COMMENT 'M, F',
	`DOG_BREED`	VARCHAR(100)	NOT NULL,
	`DOG_AGE`	INT	NOT NULL,
	`DOG_HI`	DATE	NOT NULL,
	`DOG_BYE`	DATE	NULL,
	`DOG_UPDATE_DATE`	DATETIME	NULL	COMMENT '나이 수정했을 때만'
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `REPOST` (
	`RE_NUM`	INT	NOT NULL,
	`REPORTER`	VARCHAR(50)	NOT NULL,
	`RE_ID`	VARCHAR(50)	NOT NULL,
	`NICK`	VARCHAR(50)	NOT NULL,
	`REASON`	VARCHAR(255)	NULL,
	`RE_STATUS`	INT	NOT NULL	COMMENT '0:접수, 1: 승인, 2:거부'
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `MESSAGE` (
	`M_NUM`	INT	NOT NULL,
	`M_GET_ID`	VARCHAR(50)	NOT NULL,
	`M_SEND_ID`	VARCHAR(50)	NOT NULL,
	`NICK`	VARCHAR(50)	NOT NULL,
	`M_TITLE`	VARCHAR(255)	NOT NULL,
	`M_CON`	VARCHAR(255)	NOT NULL,
	`M_STATUS`	VARCHAR(10)	NOT NULL	COMMENT '읽음 : Y, 안 읽음 : N',
	`M_CATE`	INT	NOT NULL	COMMENT '0:관리자, 1:회원',
	`M_TIME`	DATETIME	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `BOARD` (
	`BOARD_NUM`	INT	NOT NULL,
	`ID`	VARCHAR(50)	NOT NULL,
	`NICK`	VARCHAR(50)	NOT NULL,
	`B_TITLE`	VARCHAR(255)	NOT NULL,
	`B_CON`	VARCHAR(255)	NOT NULL,
	`B_CATEGORY`	INT	NOT NULL	COMMENT '0:관리자문의, 1:질문, 2:소통',
	`B_TIME`	DATETIME	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `ANSWER` (
	`A_NUM`	INT	NOT NULL,
	`BOARD_NUM`	INT	NOT NULL,
	`ID`	VARCHAR(50)	NOT NULL,
	`A_CON`	VARCHAR(255)	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `WALK_BOARD` (
	`WALK_NUM`	INT	NOT NULL,
	`ID`	VARCHAR(50)	NOT NULL,
	`NICK`	VARCHAR(50)	NOT NULL,
	`TITLE`	VARCHAR(100)	NOT NULL,
	`COMMENT`	VARCHAR(255)	NULL,
	`START_TIME`	DATETIME	NOT NULL,
	`ADDR`	VARCHAR(255)	NOT NULL,
	`TOTAL`	INT	NOT NULL,
	`WB_TIME`	DATETIME	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `PARTI_STATUS` (
	`PARTI_NUM`	INT	NOT NULL,
	`ID`	VARCHAR(50)	NOT NULL,
	`WALK_NUM`	INT	NOT NULL
)ENGINE=InnoDB DEFAULT CHARSET=utf8;




ALTER TABLE `REPOST` MODIFY `RE_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `MESSAGE` MODIFY `M_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `BOARD` MODIFY `BOARD_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `ANSWER` MODIFY `A_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `WALK_BOARD` MODIFY `WALK_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `PARTI_STATUS` MODIFY `PARTI_NUM` INT NOT NULL PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE `member` ADD CONSTRAINT `PK_MEMBER` PRIMARY KEY (
	`ID`
);

ALTER TABLE `DOG` ADD CONSTRAINT `PK_DOG` PRIMARY KEY (
	`DOG_NUM`
);


ALTER TABLE `DOG` ADD CONSTRAINT `FK_member_TO_DOG_1` FOREIGN KEY (
	`ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `REPOST` ADD CONSTRAINT `FK_member_TO_REPOST_1` FOREIGN KEY (
	`REPORTER`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `REPOST` ADD CONSTRAINT `FK_member_TO_REPOST_2` FOREIGN KEY (
	`RE_ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `MESSAGE` ADD CONSTRAINT `FK_member_TO_MESSAGE_1` FOREIGN KEY (
	`M_GET_ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `MESSAGE` ADD CONSTRAINT `FK_member_TO_MESSAGE_2` FOREIGN KEY (
	`M_SEND_ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `BOARD` ADD CONSTRAINT `FK_member_TO_BOARD_1` FOREIGN KEY (
	`ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `ANSWER` ADD CONSTRAINT `FK_BOARD_TO_ANSWER_1` FOREIGN KEY (
	`BOARD_NUM`
)
REFERENCES `BOARD` (
	`BOARD_NUM`
);

ALTER TABLE `ANSWER` ADD CONSTRAINT `FK_member_TO_ANSWER_1` FOREIGN KEY (
	`ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `WALK_BOARD` ADD CONSTRAINT `FK_member_TO_WALK_BOARD_1` FOREIGN KEY (
	`ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `PARTI_STATUS` ADD CONSTRAINT `FK_member_TO_PARTI_STATUS_1` FOREIGN KEY (
	`ID`
)
REFERENCES `member` (
	`ID`
);

ALTER TABLE `PARTI_STATUS` ADD CONSTRAINT `FK_WALK_BOARD_TO_PARTI_STATUS_1` FOREIGN KEY (
	`WALK_NUM`
)
REFERENCES `WALK_BOARD` (
	`WALK_NUM`
);